{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./src/views/detail/detail.vue?c1dc","webpack:///src/views/detail/detail.vue","webpack:///./src/views/detail/detail.vue?c657","webpack:///./src/views/detail/detail.vue?e77a","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/internals/sloppy-array-method.js","webpack:///./src/views/detail/detail.vue?2a18","webpack:///./node_modules/core-js/internals/dom-iterables.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","sloppyArrayMethod","module","exports","callbackfn","this","arguments","length","undefined","$","target","proto","forced","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","goback","_l","item","key","goodsid","imgUrl","scopedSlots","_u","fn","proxy","_v","_s","List","name","_f","price","imgUrlList","info","openSku","closeSku","skuItem","goodsPrice","_e","stock_num","model","value","callback","$$v","$set","expression","idx","class","current","$event","skuSelect","addShopCar","staticRenderFns","data","skuShow","id","selectType","isChecked","goodsNum","goodsName","watch","handler","Object","assign","type","i","skuComb","immediate","created","window","console","log","computed","$store","state","listModule","goodsList","imageList","detailImage","imgDetailsList","shopcarModule","shopCarList","methods","getSkuInfo","skuFilter","oldList","newVal","currentVal","bool","$router","go","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","fails","METHOD_NAME","argument","method","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-d1d25d5c.8c6fc98b.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar sloppyArrayMethod = require('../internals/sloppy-array-method');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = sloppyArrayMethod('forEach') ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail\"},[_c('van-nav-bar',{attrs:{\"title\":\"商品详情\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.goback}}),_c('van-swipe',{attrs:{\"autoplay\":3000,\"indicator-color\":\"white\"}},_vm._l((_vm.imageList),function(item){return _c('van-swipe-item',{key:item.goodsid},[_c('van-image',{attrs:{\"width\":\"100%\",\"height\":\"300px\",\"src\":item.imgUrl},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('van-loading',{attrs:{\"type\":\"spinner\",\"size\":\"20\"}})]},proxy:true},{key:\"error\",fn:function(){return [_vm._v(\"加载失败\")]},proxy:true}],null,true)})],1)}),1),_c('p',{staticClass:\"lsName\"},[_vm._v(_vm._s(_vm.List.name))]),_c('p',{staticClass:\"Prices\"},[_vm._v(\" 价格： \"),_c('span',{staticClass:\"lsPrice\"},[_vm._v(_vm._s(_vm._f(\"rmb\")(_vm._f(\"toFixed\")(_vm.List.price))))])]),_c('van-tabs',[_c('van-tab',{attrs:{\"title\":\"商品详情\"}},[_c('div',{staticClass:\"imgsl\"},_vm._l((_vm.imgDetailsList),function(item){return _c('li',{key:item.goodsid},[_c('van-image',{attrs:{\"width\":\"100%\",\"height\":\"300px\",\"src\":item.imgUrlList},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('van-loading',{attrs:{\"type\":\"spinner\",\"size\":\"20\"}})]},proxy:true},{key:\"error\",fn:function(){return [_vm._v(\"加载失败\")]},proxy:true}],null,true)})],1)}),0)]),_c('van-tab',{attrs:{\"title\":\"商品评论\"}},[_c('p',{staticClass:\"pls\"},[_vm._v(\"暂无评论~~\")])])],1),_c('van-goods-action',[_c('van-goods-action-icon',{attrs:{\"icon\":\"chat-o\",\"text\":\"客服\"}}),_c('van-goods-action-icon',{attrs:{\"icon\":\"cart-o\",\"text\":\"购物车\",\"to\":\"/shopcar\",\"info\":_vm.info.length ? _vm.info.length :null}}),_c('van-goods-action-button',{attrs:{\"type\":\"warning\",\"text\":\"加入购物车\"},on:{\"click\":_vm.openSku}}),_c('van-goods-action-button',{attrs:{\"type\":\"danger\",\"text\":\"立即购买\"},on:{\"click\":_vm.openSku}})],1),(_vm.skuShow)?_c('div',{staticClass:\"sku\"},[_c('div',{staticClass:\"mask\",on:{\"click\":_vm.closeSku}}),_c('div',{staticClass:\"sku-container\"},[_c('div',{staticClass:\"sku-header\"},[_c('div',{staticClass:\"sku-thumb-img\"},[_c('van-image',{attrs:{\"src\":_vm.List.imgUrl}})],1),_c('div',{staticClass:\"sku-title\"},[(_vm.skuItem.goodsPrice)?_c('p',{staticClass:\"sku-title-price\"},[_vm._v(_vm._s(_vm._f(\"rmb\")(_vm._f(\"toFixed\")(_vm.skuItem.goodsPrice))))]):_vm._e(),(_vm.skuItem.stock_num)?_c('p',{staticClass:\"sku-title-stocknum\"},[_vm._v(\"剩余:\"+_vm._s(_vm.skuItem.stock_num))]):_vm._e(),_c('van-stepper',{attrs:{\"integer\":\"\"},model:{value:(_vm.skuItem.goodsNum),callback:function ($$v) {_vm.$set(_vm.skuItem, \"goodsNum\", $$v)},expression:\"skuItem.goodsNum\"}})],1),_c('van-icon',{staticClass:\"close\",attrs:{\"name\":\"cross\"},on:{\"click\":_vm.closeSku}})],1),_c('div',{staticClass:\"sku-body\"},[_c('div',{staticClass:\"sku-size sku-item\"},[_c('div',{staticClass:\"sku-item-title\"},[_vm._v(\"尺寸：\")]),_c('ul',_vm._l((_vm.List.type),function(item,idx){return _c('li',{key:idx,class:_vm.current===idx ? 'sku-active' : null,on:{\"click\":function($event){return _vm.skuSelect(idx)}}},[_vm._v(_vm._s(item.name))])}),0)]),_c('div',{staticClass:\"button-list\"},[_c('van-button',{staticClass:\"van-button van-button--danger van-button--large\",on:{\"click\":_vm.addShopCar}},[_vm._v(\"加入购物车\")])],1)])])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"detail\">\r\n    <van-nav-bar title=\"商品详情\" left-text=\"返回\" left-arrow @click-left=\"goback\" />\r\n    <!-- 轮播图 -->\r\n    <van-swipe :autoplay=\"3000\" indicator-color=\"white\">\r\n      <van-swipe-item v-for=\"item of imageList\" :key=\"item.goodsid\">\r\n        <van-image width=\"100%\" height=\"300px\" :src=\"item.imgUrl\">\r\n          <template v-slot:loading>\r\n            <van-loading type=\"spinner\" size=\"20\" />\r\n          </template>\r\n          <template v-slot:error>加载失败</template>\r\n        </van-image>\r\n      </van-swipe-item>\r\n    </van-swipe>\r\n    <!-- 名字 -->\r\n    <p class=\"lsName\">{{List.name}}</p>\r\n    <!-- 价钱 -->\r\n    <p class=\"Prices\">\r\n      价格：\r\n      <span class=\"lsPrice\">{{List.price | toFixed | rmb}}</span>\r\n    </p>\r\n\r\n    <van-tabs>\r\n      <van-tab title=\"商品详情\">\r\n        <!-- 图片 -->\r\n        <div class=\"imgsl\">\r\n          <li v-for=\"item of imgDetailsList\" :key=\"item.goodsid\">\r\n            <van-image width=\"100%\" height=\"300px\" :src=\"item.imgUrlList\">\r\n              <template v-slot:loading>\r\n                <van-loading type=\"spinner\" size=\"20\" />\r\n              </template>\r\n              <template v-slot:error>加载失败</template>\r\n            </van-image>\r\n          </li>\r\n        </div>\r\n      </van-tab>\r\n      <van-tab title=\"商品评论\">\r\n        <p class=\"pls\">暂无评论~~</p>\r\n      </van-tab>\r\n    </van-tabs>\r\n\r\n    <!-- 购物栏 -->\r\n    <van-goods-action>\r\n      <van-goods-action-icon icon=\"chat-o\" text=\"客服\" />\r\n      <van-goods-action-icon\r\n        icon=\"cart-o\"\r\n        text=\"购物车\"\r\n        to=\"/shopcar\"\r\n        :info=\"info.length ? info.length :null\"\r\n      />\r\n      <van-goods-action-button type=\"warning\" text=\"加入购物车\" @click=\"openSku\" />\r\n      <van-goods-action-button type=\"danger\" text=\"立即购买\" @click=\"openSku\" />\r\n    </van-goods-action>\r\n\r\n    <!-- 商品sku模块 -->\r\n    <div class=\"sku\" v-if=\"skuShow\">\r\n      <div class=\"mask\" @click=\"closeSku\"></div>\r\n      <div class=\"sku-container\">\r\n        <div class=\"sku-header\">\r\n          <div class=\"sku-thumb-img\">\r\n            <van-image :src=\"List.imgUrl\" />\r\n          </div>\r\n          <div class=\"sku-title\">\r\n            <!-- 价钱 -->\r\n            <p\r\n              class=\"sku-title-price\"\r\n              v-if=\"skuItem.goodsPrice\"\r\n            >{{skuItem.goodsPrice | toFixed | rmb }}</p>\r\n\r\n            <!-- 库存 -->\r\n            <p class=\"sku-title-stocknum\" v-if=\"skuItem.stock_num\">剩余:{{skuItem.stock_num}}</p>\r\n\r\n            <!-- 购买数量 -->\r\n            <van-stepper v-model=\"skuItem.goodsNum\" integer />\r\n          </div>\r\n          <van-icon class=\"close\" name=\"cross\" @click=\"closeSku\" />\r\n        </div>\r\n        <div class=\"sku-body\">\r\n          <div class=\"sku-size sku-item\">\r\n            <div class=\"sku-item-title\">尺寸：</div>\r\n            <ul>\r\n              <li\r\n                :class=\"current===idx ? 'sku-active' : null\"\r\n                v-for=\"(item,idx) of List.type\"\r\n                :key=\"idx\"\r\n                @click=\"skuSelect(idx)\"\r\n              >{{item.name}}</li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"button-list\">\r\n            <van-button\r\n              class=\"van-button van-button--danger van-button--large\"\r\n              @click=\"addShopCar\"\r\n            >加入购物车</van-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      current: 0, //sku高亮索引值\r\n      skuShow: false, //是否显示sku\r\n      skuItem: {\r\n        //sku选项\r\n        id: \"\", //id\r\n        selectType: \"\", //商品类型\r\n        goodsPrice: \"\", //价钱\r\n        stock_num: \"\", //库存\r\n        isChecked: \"\", //是否勾选\r\n        goodsNum: \"\", //商品数量\r\n        imgUrl: \"\", //图片地址\r\n        goodsName: \"\" //商品名称\r\n      }\r\n    };\r\n  },\r\n\r\n  //监听sku选择\r\n  watch: {\r\n    current: {\r\n      handler(i) {\r\n        let _self = this;\r\n        _self.skuItem = Object.assign({}, _self.skuItem, {\r\n          selectType: _self.List.type[i].name, //商品类型\r\n          goodsPrice: _self.List.skuComb[i].price, //价钱\r\n          stock_num: _self.List.skuComb[i].stock_num //库存\r\n        });\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n\r\n  created() {\r\n    window.console.log(this.List);\r\n  },\r\n  computed: {\r\n    //初始获得数据\r\n    List() {\r\n      return this.$store.state.listModule.goodsList;\r\n    },\r\n    //渲染头部轮播图片\r\n    imageList() {\r\n      return this.List.detailImage;\r\n    },\r\n    //渲染详情图片列表\r\n    imgDetailsList() {\r\n      return this.List.imgDetailsList;\r\n    },\r\n    //徽标提示\r\n    info() {\r\n      return this.$store.state.shopcarModule.shopCarList;\r\n    }\r\n  },\r\n  methods: {\r\n    //获取商品信息\r\n    getSkuInfo() {\r\n      let _self = this;\r\n      _self.skuItem = Object.assign({}, _self.skuItem, {\r\n        id: _self.List.id, //id\r\n        isChecked: true, //是否勾选\r\n        imgUrl: _self.List.imgUrl, //图片地址\r\n        goodsName: _self.List.name // 商品名称\r\n      });\r\n      let value = _self.skuItem;\r\n      return value;\r\n    },\r\n\r\n    //判断是否有相同商品\r\n    skuFilter(currentVal) {\r\n      let _self = this;\r\n      let bool = true;\r\n      let newVal;\r\n      let oldList = _self.$store.state.shopcarModule.shopCarList;\r\n\r\n      if (oldList.length === 0) {\r\n        newVal = currentVal;\r\n      } else {\r\n        oldList.forEach(function(item) {\r\n          if (\r\n            item.id === currentVal.id &&\r\n            item.selectType === currentVal.selectType\r\n          ) {\r\n            //id和类型都相同\r\n            bool = false;\r\n            // window.console.log(currentVal.goodsNum)\r\n            // window.console.log(item.goodsNum)\r\n            // window.console.log(item.goodsNum === currentVal.goodsNum)\r\n            item.goodsNum = item.goodsNum + currentVal.goodsNum;\r\n          } else {\r\n            newVal = currentVal;\r\n          }\r\n        });\r\n      }\r\n      return { bool, newVal };\r\n    },\r\n\r\n    //把数据提交到购物车\r\n    async addShopCar() {\r\n      let _self = this;\r\n      let currentVal = await _self.getSkuInfo(); //先获取当前提交数据\r\n      let { bool, newVal } = await _self.skuFilter(currentVal); //再把数据放进过滤函数里面判断是否是相同的商品\r\n\r\n      if (bool) {\r\n        //如果购买的是不同的商品，存到vuex里面\r\n        _self.$store.commit(\r\n          \"shopcarModule/addShopCarList\",\r\n          JSON.parse(JSON.stringify(newVal))\r\n        );\r\n      }\r\n      _self.$toast.success(\"添加成功\");\r\n      _self.skuShow = false; //添加成功后关闭sku模块\r\n    },\r\n    goback() {\r\n      this.$router.go(-1);\r\n    },\r\n\r\n    skuSelect(idx) {\r\n      //sku选择\r\n      this.current = idx;\r\n    },\r\n\r\n    closeSku() {\r\n      //关闭sku\r\n      this.skuShow = false;\r\n    },\r\n\r\n    openSku() {\r\n      //打开sku\r\n      this.skuShow = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.detail {\r\n  .van-goods-action {\r\n    z-index: 2;\r\n  }\r\n  .sku {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: fixed;\r\n    z-index: 999;\r\n    top: 0;\r\n    left: 0;\r\n    .mask {\r\n      width: 100%;\r\n      height: 100%;\r\n      background: #000;\r\n      opacity: 0.6;\r\n      position: absolute;\r\n      z-index: 1;\r\n      top: 0;\r\n      left: 0;\r\n    }\r\n    .sku-container {\r\n      width: 100%;\r\n      height: 75%;\r\n      background: #fff;\r\n      position: absolute;\r\n      z-index: 2;\r\n      bottom: 0;\r\n      left: 0;\r\n      border-top-left-radius: 20px;\r\n      border-top-right-radius: 20px;\r\n      box-sizing: border-box;\r\n      padding: 20px;\r\n      overflow: hidden;\r\n      .sku-header {\r\n        display: flex;\r\n        border-bottom: 1px solid #eaeaea;\r\n        .sku-thumb-img {\r\n          width: 100px;\r\n          height: 100px;\r\n          border: 2px solid #eaeaea;\r\n        }\r\n        .sku-title {\r\n          width: 250px;\r\n          height: 120px;\r\n          padding: 5px;\r\n          p {\r\n            font-size: 14px;\r\n            color: #969799;\r\n          }\r\n          .sku-title-price {\r\n            font-size: 22px;\r\n            color: #ee0a24;\r\n          }\r\n        }\r\n        .close {\r\n          font-size: 20px;\r\n          color: #969799;\r\n        }\r\n      }\r\n      .sku-body {\r\n        .sku-item {\r\n          margin: 10px 0;\r\n          .sku-item-title {\r\n            margin-bottom: 10px;\r\n          }\r\n          ul {\r\n            display: flex;\r\n            li {\r\n              min-width: 40px;\r\n              padding: 8px;\r\n              border-radius: 4px;\r\n              background: #f7f8fa;\r\n              color: #323233;\r\n              margin-right: 12px;\r\n              text-align: center;\r\n            }\r\n            .sku-active {\r\n              color: #ee0a24;\r\n              background: pink;\r\n            }\r\n          }\r\n        }\r\n        .button-list {\r\n          width: 100%;\r\n          position: fixed;\r\n          bottom: 0;\r\n          left: 0;\r\n          display: flex;\r\n          border-radius: 30px;\r\n          overflow: hidden;\r\n          button {\r\n            font-size: 16px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .van-nav-bar {\r\n    background-color: #ea6498;\r\n  }\r\n  .van-nav-bar__title,\r\n  .van-nav-bar__text,\r\n  .van-nav-bar .van-icon {\r\n    color: white;\r\n  }\r\n  .Prices {\r\n    font-size: 20px;\r\n    padding: 10px 10px 10px 0;\r\n    .lsPrice {\r\n      color: #df4b7a;\r\n    }\r\n  }\r\n\r\n  .pls {\r\n    text-align: center;\r\n    font-size: 22px;\r\n    color: #df4b7a;\r\n    padding: 10px;\r\n  }\r\n  .van-tab span {\r\n    font-size: 20px;\r\n  }\r\n  .van-tab--active {\r\n    color: #df4b7a;\r\n  }\r\n  .van-tabs__line {\r\n    background-color: #df4b7a;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=04082efc&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !method || !fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./detail.vue?vue&type=style&index=0&lang=scss&\"","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n"],"sourceRoot":""}